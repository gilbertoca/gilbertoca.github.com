id=5
title=Conexão Lenta com o Banco Oracle - TNSPING, SQLPLUS, ETC
date=2009-03-13 08:00:57
type=post
status=published
tags=Database
~~~~~~


Se você notar que após a configuração (Editando o arquivo tnsnames.ora ou usando o utilitário netmgr) de um cliente de acesso ao Banco de Dados Oracle estiver muito lenta, verifique a variável NAMES.DIRECTORY_PATH no arquivo sqlnet.ora. 

Muitas vezes a ordem de procura dos serviços disponíveis na máquina servidora pode estar prejudicando a conexão. No meu caso, configurei o servidor com os seguintes protocolos, na ordem correspondente: TNSNAMES, EZCONNECT, ONAMES, HOSTNAME. 

Mas no cliente o arquivo sqlnet.ora estava com um protocolo não usado: 

<pre># sqlnet.ora Network Configuration File: /opt/oracle/oas/10.1.2.0.2/server/network/admin/sqlnet.ora
# Generated by Oracle configuration tools.

NAMES.DIRECTORY_PATH= (LDAP, EZCONNECT, TNSNAMES, ONAMES, HOSTNAME)
</pre>

Deste modo, o cliente primeiro procura por um serviço disponibilizado por um servidor LDAP. E isso leva tempo. A remoção do primeiro protocolo e reordenando os demais, o tempo de conexão voltou ao normal. 

<pre># sqlnet.ora Network Configuration File: /opt/oracle/oas/10.1.2.0.2/server/network/admin/sqlnet.ora
# Generated by Oracle configuration tools.

NAMES.DIRECTORY_PATH= (TNSNAMES, EZCONNECT, ONAMES, HOSTNAME)
</pre>

Outro parâmetro que pode impactar de forma negativa suas sessões é o 

<pre>SQLNET.AUTHENTICATION_SERVICES = (NTS)</pre>

. Esse especifica que o Oracle permita a autenticação nativa NT para usuários windows.

