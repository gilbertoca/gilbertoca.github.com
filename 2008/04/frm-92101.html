<!DOCTYPE html>
<html lang="en">
  <head>
    <title>
    Vivendo e Aprendendo ...
        - FRM-92101
    </title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Author">
    <meta name="description" content="Static blog generated with JBake">

    <!-- Style -->
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootswatch/3.1.1/spacelab/bootstrap.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
    <link rel="stylesheet" href="/css/base.css">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="/js/html5shiv.js"></script>
    <![endif]-->

    <!-- Fav icon -->
    <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/img/favicon.ico" type="image/x-icon">
  </head>
  <body>      
    <nav class="navbar navbar-default navbar-fixed-top " role="navigation">
      <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">Vivendo e Aprendendo ...</a>
        </div>
        
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav">
            <li><a href="/pages/about.html">About me</a></li>
            <li><a href="/pages/contact.html">Contact</a></li>
          </ul>
        
        <!-- Right navigation -->
        <ul class="nav navbar-nav navbar-right">
              <li><a href="http://twitter.com/gilberto_gca" title="Twitter"><i class="fa fa-twitter-square"></i></a></li>
              <li><a href="https://github.com/gilbertoca" title="Github"><i class="fa fa-github-square"></i></a></li>
          <li><a href="/archive.html"><i class="fa fa-list"></i> Archive</a></li>
          <li><a href="/feed.xml" title="Rss"><i class="fa fa-rss"></i> Feed</a></li>
        </ul>
        <!-- Right navigation end -->

      </div><!-- /.navbar-collapse -->
      </div><!-- /.container-fluid -->
    </nav><!-- /.navbar -->

    <!-- Begin page content -->
    <div class="container">
      
      <div class="row">
        <div class="col-md-12">
          <article>
            <div class="page-header"><h1>FRM-92101</h1>
            </div>
          <p class="post-meta">
            <i class="fa fa-calendar"></i>&nbsp;18 Abril 2008&nbsp;&nbsp;
            <i class="fa fa-user"></i>&nbsp;Author&nbsp;&nbsp;
          </p>
              <p>
Voc&#234; j&#225; se deparou com essa categoria (gen&#233;rica) de erro Oracle? Pois &#233;, esse que me deparei &#233; uma del&#237;cia. Vou me acostumar a cham&#225;-lo de del&#237;cia, pois dessa forma, no pr&#243;ximo encontro eu n&#227;o venha a ter um infarto. Perdi praticamente dois dias, rastreando, refazendo, desfazendo a configura&#231;&#227;o de uma instala&#231;&#227;o do Servidor IAS 10g no Linux.<br />Veja o sintoma: (Aten&#231;&#227;o! Esse comportamento pode variar de ambiente para ambiente.)<br /><br />Sess&#227;o do Forms n&#227;o inicia no cliente, mesmo o forms de teste que usamos para testar a configura&#231;&#227;o de instala&#231;&#227;o n&#227;o funciona. O erro descrito pelo cliente &#233; bem gen&#233;rico (frm-92101). O cliente envia um print screen da tela com problemas: <img src="http://www.jroller.com/gilbertoca/resource/frm-92101.png" /><br /><br /><br />Agora com mais detalhes:<br />&nbsp;<br /><br /><img src="http://www.jroller.com/gilbertoca/resource/frm-92102-details.png" /><br /><br /><br />No servidor, o log n&#227;o &#233; de muita ajuda:<br /><pre><br />oracle@oasibm:/opt/oracle/oas/10.1.2.0.2/server/forms&gt; tail -n 100 -f /opt/oracle/oas/10.1.2.0.2/server/opmn/logs/OC4J~OC4J_BI_Forms~default_island~1<br />08/02/18 09:27:06 Start process<br />--------<br />08/02/18 09:27:12 FormsServlet init():<br />    configFileName:     /opt/oracle/oas/10.1.2.0.2/server/forms/server/formsweb.cfg<br />    testMode:           false<br />08/02/18 09:27:12 Oracle Application Server Containers for J2EE 10g (10.1.2.2.0) initialized<br />08/02/18 09:40:31 ListenerServlet init()<br />08/02/18 09:44:07 RunformProcess.connect(): falhou !<br />08/02/18 09:44:07 Sess&#227;o de forms &lt;1&gt; abortada: n&#227;o &#233; poss&#237;vel a comunica&#231;&#227;o com o processo de runtime.<br />08/02/18 09:56:06 RunformProcess.connect(): falhou !<br />08/02/18 09:56:06 Sess&#227;o de forms &lt;2&gt; abortada: n&#227;o &#233; poss&#237;vel a comunica&#231;&#227;o com o processo de runtime.<br /></pre><br />Outro log:<br /><pre><br />oracle@oasibm:/opt/oracle/oas/10.1.2.0.2/server/forms/server&gt; tail -n 100 -f /opt/oracle/oas/10.1.2.0.2/server/j2ee/OC4J_BI_Forms/application-deployments/formsapp/OC4J_BI_Forms_default_island_1/application.log<br />08/02/18 10:18:35 Started<br />08/02/18 10:18:36 formsweb: jsp: init<br />08/02/18 10:18:36 formsweb: frmservlet: init<br />08/02/18 10:18:36 formsweb: FormsServlet init():<br />    configFileName:     /opt/oracle/oas/10.1.2.0.2/server/forms/server/formsweb.cfg<br />    testMode:           false<br />08/02/18 10:18:36 formsweb: Started<br />08/02/18 10:18:51 formsweb: lservlet: init<br />08/02/18 10:18:51 formsweb: ListenerServlet init()<br />08/02/18 10:22:27 formsweb: RunformProcess.connect(): falhou !<br />08/02/18 10:22:27 formsweb: Sess&#227;o de forms &lt;1&gt; abortada: n&#227;o &#233; poss&#237;vel a comunica&#231;&#227;o com o processo de runtime.<br />08/02/18 10:22:27 formsweb: Forms session &lt;1&gt; exception stack trace:<br />java.net.ConnectException: Connection refused<br />        at java.net.PlainSocketImpl.socketConnect(Native Method)<br />        at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:305)<br />        at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:171)<br />        at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:158)<br />        at java.net.Socket.connect(Socket.java:452)<br />        at java.net.Socket.connect(Socket.java:402)<br />        at java.net.Socket.<init>(Socket.java:309)<br />        at java.net.Socket.<init>(Socket.java:153)<br />        at oracle.forms.servlet.RunformProcess.connect(Unknown Source)<br />        at oracle.forms.servlet.RunformProcess.dataToRunform(Unknown Source)<br />        at oracle.forms.servlet.RunformSession.dataToRunform(Unknown Source)<br />        at oracle.forms.servlet.ListenerServlet.doPost(Unknown Source)<br />        at javax.servlet.http.HttpServlet.service(HttpServlet.java:760)<br />        at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)<br />        at com.evermind[Oracle Application Server Containers for J2EE 10g (10.1.2.2.0)].server.http.ServletRequestDispatcher.invoke(ServletRequestDispatcher.java:834)<br />        at com.evermind[Oracle Application Server Containers for J2EE 10g (10.1.2.2.0)].server.http.ServletRequestDispatcher.forwardInternal(ServletRequestDispatcher.java:340)<br />        at com.evermind[Oracle Application Server Containers for J2EE 10g (10.1.2.2.0)].server.http.HttpRequestHandler.processRequest(HttpRequestHandler.java:830)<br />        at com.evermind[Oracle Application Server Containers for J2EE 10g (10.1.2.2.0)].server.http.AJPRequestHandler.run(AJPRequestHandler.java:228)<br />        at com.evermind[Oracle Application Server Containers for J2EE 10g (10.1.2.2.0)].server.http.AJPRequestHandler.run(AJPRequestHandler.java:133)<br />        at com.evermind[Oracle Application Server Containers for J2EE 10g (10.1.2.2.0)].util.ReleasableResourcePooledExecutor$MyWorker.run(ReleasableResourcePooledExecutor.java:186)<br />        at java.lang.Thread.run(Thread.java:534)<br /><br /></init></init></pre><br /><br />Uma op&#231;&#227;o para entender melhor o problema &#233; debugar (Opa! Ser&#225; que existe esse verbo? Ser&#225; que rastrear ficaria melhor?) a sess&#227;o do cliente, ativado da seguinte forma:<br />http://oasibm.secad.to.gov.br:7778/forms/frmservlet?form=test.fmx&amp;config=debug<br /><br />E ao mesmo tempo monitorar a sa&#237;da do log: tail -n 100 -f /opt/oracle/oas/10.1.2.0.2/server/j2ee/OC4J_BI_Forms/application-deployments/formsapp/OC4J_BI_Forms_default_island_1/application.log<br /><br />Mas por incr&#237;vel que pare&#231;a, no meu caso, o log com a op&#231;&#227;o de debug ativado n&#227;o mostrou nada que pudesse ajudar na solu&#231;&#227;o do problema.<br />Mas algo me chamou a aten&#231;&#227;o:<br /><pre><br />08/02/19 15:29:42 FormsServlet init():<br />    configFileName:     /opt/oracle/oas/10.1.2.0.2/server/forms/server/formsweb.cfg<br />    testMode:           false<br />08/02/19 15:29:42 Oracle Application Server Containers for J2EE 10g (10.1.2.2.0) initialized<br />08/02/19 15:29:46 ListenerServlet init()<br />08/02/19 15:33:22 RunformProcess.connect(): falhou !<br />08/02/19 15:33:22 Sess&#227;o de forms &lt;1&gt; abortada: n&#227;o &#233; poss&#237;vel a comunica&#231;&#227;o com o processo de runtime.<br /><br /></pre><br /><br />Essa falha na inicializa&#231;&#227;o do Forms runtime. Mas, como mencionei no in&#237;cio, desfiz e refiz a configura&#231;&#227;o do forms nesse servidor. Ent&#227;o o que me restava? Verifiquei tamb&#233;m com o pessoal de redes e nada. Me avisaram que n&#227;o houve mudan&#231;a alguma no servidor. Bom, a &#250;nica op&#231;&#227;o, ap&#243;s fazer uma pesquisa pelo google e principalmente pelo <a href="https://metalink.oracle.com/">site</a> de suporte da oracle foi, fazer o checklist dos requerimentos da instala&#231;&#227;o do servidor de aplica&#231;&#245;es oracle.<br />Para encurtar a hist&#243;ria, quando cheguei no t&#243;pico <a href="http://download.oracle.com/docs/cd/B14099_19/lop.1012/install.1012/install/reqs.htm#BABBJDFE">3.9 The /etc/hosts File</a> , olhei o arquivo e a primeira vista n&#227;o notei nada de anormal:<br /><pre><br />oracle@oasibm:~&gt; cat /etc/hosts<br /># special IPv6 addresses<br />#::1             localhost ipv6-localhost ipv6-loopback<br /><br />fe00::0         ipv6-localnet<br /><br />ff00::0         ipv6-mcastprefix<br />ff02::1         ipv6-allnodes<br />ff02::2         ipv6-allrouters<br />ff02::3         ipv6-allhosts<br /><br />ip segunda placa      oasibm.secad<br />ip primeira placa     oasibm.secad oasibm<br /></pre><br />Olhando assim, ningu&#233;m fala nada a respeito. Mas rodando o programa ping, constatei o problema. Qual ip respondia? Para minha alegria, o segundo ip. Por que alegria, voc&#234; pode perguntar, &#233; que a ordem estava errada.  O certo deveria ser assim:<br /><pre><br />ip primeira placa     oasibm.secad oasibm<br />ip segunda placa      oasibm.secad<br /></pre><br />A&#237;, foi s&#243; parar todos os servi&#231;os do servidor, alterar essa configura&#231;&#227;o e tudo voltou ao normal, aleluia!
</p>
      <div class="share">
  <!-- Facebook -->
          <a href="http://www.facebook.com/sharer.php?u=http://blog.gilbertoca.com/2008/04/frm-92101.html" target="_blank"><img src="/img/sharebuttons/facebook.png" alt="Facebook" /></a>
  <!-- Google+ -->
  <!-- Twitter -->
          <a href="http://twitter.com/share?url=http://blog.gilbertoca.com/2008/04/frm-92101.html&text=FRM-92101 blog.gilbertoca.com/2008/04/frm-92101.html" target="_blank"><img src="/img/sharebuttons/twitter.png" alt="Twitter" /></a>
      </div>
            </article>
        </div> <!-- /.col-md-12 -->
      </div> <!-- /.row -->
        
      </div><!-- /.container -->

    <footer>
      <div class="container">
        <hr>
        <div class="row">
          <div class="col-xs-10">
            <p class="text-muted credit">&copy; Gilberto Caetano de Andrade 2014 | Mixed with <a href="http://getbootstrap.com/">Bootstrap v3.1.1</a> | Baked with <a href="http://jbake.org">JBake v2.2.1</a> | <i title="Linux" class="fa fa-linux"></i></p>
          </div>
          <div class="col-xs-2 gotop">
            <a href="#"><i class="fa fa-arrow-circle-up"> top</i></a>
          </div>
        </div>
      </div>
    </footer>

    <!-- Placed at the end of the document so the pages load faster -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/gist-embed/1.6/gist-embed.min.js"></script>
    
    <script src="//cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.js"></script>
    <script type="text/javascript">
      <!-- load prettify only when needed -->
      $(document).ready(function(){
        var prettify = false;
        var classToAdd = 'prettyprint snippet';
        $("pre > code").each(function() {
          $("pre > code").parent().addClass(classToAdd);
          prettify = true;
        });
        if(prettify) {
          prettyPrint();
        }
      });
    </script>


        </body>
</html>
